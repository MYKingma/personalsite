<!-- search.html for implementing a city guide webapp

Maurice Kingma
Minor Programmeren - Web App Studio

Search page layout
-->

{% extends "base.html" %}

<!-- page title -->
{% block title %}Stadsgids Amsterdam{% endblock %}

<!-- page content -->
{% block content %}
<div class="container">
	<div class="row">
		<div class="col-md-8">



			{% if not search %}
			<p>searchinfo</p>
			{% else %}
			{% if results|length > 0 %}
			<h1>Resultaten</h1>
			<ul class="list-unstyled">
			{% else %}
			<p class="nolist">noresults</p>
			{% endif %}
			{% endif %}
			{% for result in results %}
				<a class="list" href="{{ url_for('location', place_id=result.place_id, name=result.name) }}">
					<li class="media">

						<div class="center-cropped"
						     style="background-image: url('{{ result.photos }}');">
						  <img src="{{ result.photos }}" />
						</div>


						<div class="media-body">
							<h5 class="mt-0 mb-1">{{ result.name }}
								<span class="toright">
								{% if result.recommended %}
								<button class="btn btn-danger btn-sm">AANRADER</button>
								{% endif %}
								<p><img class="icon" src="{{ result.icon }}" alt="{{ result.types }}"></p><p>{{ result.price_level }}</p><p>{{ result.opening_hours }}</p></span>

							</h5>
							<p class="searchadress"><span id="stars">{{ result.rating }}</span></p>
							<p class="searchadress">{{ result["formatted_address"][0] }}</p>
						</div>
					</li>
				</a>
			{% endfor %}
			</ul>
		</div>
		<div class="col-md-4">

			<h2>Geavanceerd zoeken</h2>
			<form class="advanced" action="{{ url_for('search') }}" method="post">
				<div class="form-group">
					<input class="form-control form-control-sm" type="text" name="query" placeholder="Zoekterm">
				</div>
				<div class="form-group">
					<label class="advancedlabel" for="typeinput">Categorie</label>
					<select class="form-control form-control-sm" id="typeinput" name="type">
						{% for key, value in types.items() %}
						<option value="{{ key }}">{{ value }}</option>
						{% endfor %}
					</select>
				</div>
				<div class="form-row">
					<div class="col">
						<div class="form-group">
							<label class="advancedlabel" for="minpriceinput">Prijsklasse</label>
							<select class="form-control form-control-sm" id="minpriceinput" name="minprice">
								<option value="0">Vanaf</option>
								<option value="1">€</option>
								<option value="2">€€</option>
								<option value="3">€€€</option>
							</select>
						</div>
					</div>
					<div class="col">
						<div class="form-group">
							<select class="form-control form-control-sm" id="maxpriceinput" name="maxprice">
								<option value="1">€€</option>
								<option value="2">€€€</option>
								<option value="3">€€€€</option>
								<option value="4" selected>Tot</option>
							</select>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="form-check">
					  <input class="form-check-input" type="checkbox" value="True" id="opennowinput" name="opennow">
					  <label class="form-check-label advancedlabel" for="opennowinput">
					    Toon alleen open locaties
					  </label>
					</div>
				</div>
				<input type="hidden" name="form" value="advanced">
				<button id="spinner" class="btn btn-outline-danger my-2 my-sm-0" type="submit">Zoeken</button>
				<div id="show" class="spinner-border spinner-border-sm text-danger" role="status" style="display: none">
				  <span class="sr-only">Loading...</span>
				</div>




			</form>
		</div>
	</div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript" src="{{ url_for('static', filename='js/star.js')}}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/spinner.js')}}"></script>
{% endblock %}
